---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  fig.width=10, 
  fig.height=8,
  fig.align='center')
```
# cloudr

<!-- badges: start -->
<!-- badges: end -->

**This is a personal project. It is just for fun and it is not working properly at the moment**

I've had a go at producing word cloud type graphics in R in order to learn and devlop my coding skill. Personally I don't believe that word clouds are a particularly useful or insightful way to visualise text analysis, but I do think they can look rather pretty and be good fun to make.

I'm not really interested in developing code to extract words and their respective weights from a body of text. Here I am just interested in how to place the words (scaled to their weighting) on the page in the form of a word cloud. As such, the code im developing here needs to be supplied with a vector of words and a vector of their weights from which a word cloud will be generated.

## Add package to search path
```{r}
library(cloudr)
```

## Default data set
`cloudr` has a raw data set `obama` - a dataframe of words and their weights from Obama's 2016 state of the union speech downloaded from https://help.xlstat.com/customer/en/portal/articles/2918639-word-cloud-tutorial-in-excel-?b_id=9283
```{r}
obama[1:10, ]
```

## Create word cloud

### Straight wordcloud
```{r results='hide'}
cloudr::bmwc(cloudr::obama[1:200,],
             min_size = 30,
             max_size = 350,
             spiral_step = 40,
             spiral_length = 100,
             angle_range = c(0, 0),
             buffer = 5,
             seed = 1)
```

```{r results='hide'}
cloudr::bmwc(cloudr::obama[1:200,],
             min_size = 30,
             max_size = 350,
             spiral_step = 40,
             spiral_length = 100,
             angle_range = c(0, 0),
             buffer = 5,
             seed = 1,
             show_word_buffer = TRUE )
```

### A little bit of wobble
```{r results='hide'}
cloudr::bmwc(cloudr::obama[1:200,],
             min_size = 30,
             max_size = 350,
             spiral_step = 40,
             spiral_length = 100,
             angle_range = c(-5, 5),
             buffer = 5,
             seed = 1)
```

### Random angles
```{r results='hide'}
cloudr::bmwc(cloudr::obama[1:200,],
             min_size = 30,
             max_size = 350,
             spiral_step = 40,
             spiral_length = 100,
             angle_range = c(-90, 90),
             buffer = 5,
             seed = 1)
```

### Change font
```{r results='hide'}
sysfonts::font_add(family = "old_eng", "C:/Windows/Fonts/OLDENGL.TTF")

cloudr::bmwc(cloudr::obama[1:200,],
             min_size = 30,
             max_size = 350,
             spiral_step = 40,
             spiral_length = 100,
             angle_range = c(-5, 5),
             buffer = 5,
             seed = 1,
             font_family = "old_eng")
```

## Example of buffer
```{r fig.width=4}
word <- word_mat("aaaaabbbbb", weight=50, rot=0)
plot_mat(word)

plot_mat(add_buffer(word, buffer = 10, fill = 50))
```

